"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const asset_schema = require("@aws-cdk/cdk-assets-schema");
const cdk_assets = require("cdk-assets");
class AssetManifestBuilder {
    constructor() {
        this.manifest = {
            version: asset_schema.AssetManifestSchema.currentVersion(),
            files: {},
            dockerImages: {},
        };
    }
    addFileAsset(id, source, destination) {
        this.manifest.files[id] = {
            source,
            destinations: {
                current: destination
            }
        };
    }
    addDockerImageAsset(id, source, destination) {
        this.manifest.dockerImages[id] = {
            source,
            destinations: {
                current: destination
            }
        };
    }
    toManifest(directory) {
        return new cdk_assets.AssetManifest(directory, this.manifest);
    }
}
exports.AssetManifestBuilder = AssetManifestBuilder;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXQtbWFuaWZlc3QtYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImFzc2V0LW1hbmlmZXN0LWJ1aWxkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyREFBMkQ7QUFDM0QseUNBQXlDO0FBRXpDLE1BQWEsb0JBQW9CO0lBQWpDO1FBQ21CLGFBQVEsR0FBOEI7WUFDckQsT0FBTyxFQUFFLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLEVBQUU7WUFDMUQsS0FBSyxFQUFFLEVBQUU7WUFDVCxZQUFZLEVBQUUsRUFBRTtTQUNqQixDQUFDO0lBdUJKLENBQUM7SUFyQlEsWUFBWSxDQUFDLEVBQVUsRUFBRSxNQUErQixFQUFFLFdBQXlDO1FBQ3hHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHO1lBQ3pCLE1BQU07WUFDTixZQUFZLEVBQUU7Z0JBQ1osT0FBTyxFQUFFLFdBQVc7YUFDckI7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVNLG1CQUFtQixDQUFDLEVBQVUsRUFBRSxNQUFzQyxFQUFFLFdBQWdEO1FBQzdILElBQUksQ0FBQyxRQUFRLENBQUMsWUFBYSxDQUFDLEVBQUUsQ0FBQyxHQUFHO1lBQ2hDLE1BQU07WUFDTixZQUFZLEVBQUU7Z0JBQ1osT0FBTyxFQUFFLFdBQVc7YUFDckI7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVNLFVBQVUsQ0FBQyxTQUFpQjtRQUNqQyxPQUFPLElBQUksVUFBVSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7Q0FDRjtBQTVCRCxvREE0QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhc3NldF9zY2hlbWEgZnJvbSAnQGF3cy1jZGsvY2RrLWFzc2V0cy1zY2hlbWEnO1xuaW1wb3J0ICogYXMgY2RrX2Fzc2V0cyBmcm9tICdjZGstYXNzZXRzJztcblxuZXhwb3J0IGNsYXNzIEFzc2V0TWFuaWZlc3RCdWlsZGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBtYW5pZmVzdDogYXNzZXRfc2NoZW1hLk1hbmlmZXN0RmlsZSA9IHtcbiAgICB2ZXJzaW9uOiBhc3NldF9zY2hlbWEuQXNzZXRNYW5pZmVzdFNjaGVtYS5jdXJyZW50VmVyc2lvbigpLFxuICAgIGZpbGVzOiB7fSxcbiAgICBkb2NrZXJJbWFnZXM6IHt9LFxuICB9O1xuXG4gIHB1YmxpYyBhZGRGaWxlQXNzZXQoaWQ6IHN0cmluZywgc291cmNlOiBhc3NldF9zY2hlbWEuRmlsZVNvdXJjZSwgZGVzdGluYXRpb246IGFzc2V0X3NjaGVtYS5GaWxlRGVzdGluYXRpb24pIHtcbiAgICB0aGlzLm1hbmlmZXN0LmZpbGVzIVtpZF0gPSB7XG4gICAgICBzb3VyY2UsXG4gICAgICBkZXN0aW5hdGlvbnM6IHtcbiAgICAgICAgY3VycmVudDogZGVzdGluYXRpb25cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGFkZERvY2tlckltYWdlQXNzZXQoaWQ6IHN0cmluZywgc291cmNlOiBhc3NldF9zY2hlbWEuRG9ja2VySW1hZ2VTb3VyY2UsIGRlc3RpbmF0aW9uOiBhc3NldF9zY2hlbWEuRG9ja2VySW1hZ2VEZXN0aW5hdGlvbikge1xuICAgIHRoaXMubWFuaWZlc3QuZG9ja2VySW1hZ2VzIVtpZF0gPSB7XG4gICAgICBzb3VyY2UsXG4gICAgICBkZXN0aW5hdGlvbnM6IHtcbiAgICAgICAgY3VycmVudDogZGVzdGluYXRpb25cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHRvTWFuaWZlc3QoZGlyZWN0b3J5OiBzdHJpbmcpOiBjZGtfYXNzZXRzLkFzc2V0TWFuaWZlc3Qge1xuICAgIHJldHVybiBuZXcgY2RrX2Fzc2V0cy5Bc3NldE1hbmlmZXN0KGRpcmVjdG9yeSwgdGhpcy5tYW5pZmVzdCk7XG4gIH1cbn1cbiJdfQ==