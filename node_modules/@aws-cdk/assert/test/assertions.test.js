"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = require("@aws-cdk/core");
const index_1 = require("../lib/index");
passingExample('expect <synthStack> at <some path> to have <some type>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/TestResource').to(index_1.haveType(resourceType));
});
passingExample('expect non-synthesized stack at <some path> to have <some type>', () => {
    const resourceType = 'Test::Resource';
    const stack = new cdk.Stack();
    new TestResource(stack, 'TestResource', { type: resourceType });
    index_1.expect(stack).at('/TestResource').to(index_1.haveType(resourceType));
});
passingExample('expect <synthStack> at <some path> *not* to have <some type>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/TestResource').notTo(index_1.haveType('Foo::Bar'));
});
passingExample('expect <synthStack> at <some path> to exist', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/TestResource').to(index_1.exist());
});
passingExample('expect <synthStack> to match (exactly) <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    const expected = {
        Resources: {
            TestResource: { Type: resourceType }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.EXACT));
});
passingExample('expect <synthStack> to match (no replaces) <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    const expected = {};
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.NO_REPLACES));
});
passingExample('expect <synthStack> to be a superset of <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        // Added
        new TestResource(stack, 'NewResource', { type: 'AWS::S3::Bucket' });
        // Expected
        new TestResource(stack, 'TestResourceA', { type: resourceType });
        new TestResource(stack, 'TestResourceB', { type: resourceType, properties: { Foo: 'Bar' } });
    });
    const expected = {
        Resources: {
            TestResourceA: { Type: 'Test::Resource' },
            TestResourceB: { Type: 'Test::Resource', Properties: { Foo: 'Bar' } }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.SUPERSET));
});
passingExample('sugar for matching stack to a template', () => {
    const stack = new cdk.Stack();
    new TestResource(stack, 'TestResource', { type: 'Test::Resource' });
    index_1.expect(stack).toMatch({
        Resources: {
            TestResource: {
                Type: 'Test::Resource'
            }
        }
    });
});
passingExample('expect <synthStack> to match (no replaces) <template> with parameters', () => {
    const parameterType = 'Test::Parameter';
    const synthStack = synthesizedStack(stack => {
        new TestParameter(stack, 'TestParameter', { type: parameterType });
    });
    const expected = {};
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.NO_REPLACES));
});
passingExample('expect <synthStack> to be a superset of <template> with parameters', () => {
    const parameterType = 'Test::Parameter';
    const synthStack = synthesizedStack(stack => {
        // Added
        new TestResource(stack, 'NewResource', { type: 'AWS::S3::Bucket' });
        // Expected
        new TestParameter(stack, 'TestParameterA', { type: parameterType });
        new TestParameter(stack, 'TestParameterB', { type: parameterType, default: { Foo: 'Bar' } });
    });
    const expected = {
        Parameters: {
            TestParameterA: { Type: 'Test::Parameter' },
            TestParameterB: { Type: 'Test::Parameter', Default: { Foo: 'Bar' } }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.SUPERSET));
});
failingExample('expect <synthStack> at <some path> *not* to have <some type>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/TestResource').notTo(index_1.haveType(resourceType));
});
failingExample('expect <synthStack> at <some path> to have <some type>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/TestResource').to(index_1.haveType('Foo::Bar'));
});
failingExample('expect <synthStack> at <some path> to exist', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    index_1.expect(synthStack).at('/Foo/Bar').to(index_1.exist());
});
failingExample('expect <synthStack> to match (exactly) <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    const expected = {
        Resources: {
            TestResource: { Type: resourceType, DependsOn: ['Something'] }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.EXACT));
});
failingExample('expect <synthStack> to match (no replaces) <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'TestResource', { type: resourceType });
    });
    const expected = {
        Resources: {
            TestResource: { Type: 'AWS::S3::Bucket' }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.NO_REPLACES));
});
failingExample('expect <synthStack> to be a superset of <template>', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        // Added
        new TestResource(stack, 'NewResource', { type: 'AWS::S3::Bucket' });
        // Expected
        new TestResource(stack, 'TestResourceA', { type: resourceType });
        // Expected, but has different properties - will break
        new TestResource(stack, 'TestResourceB', { type: resourceType, properties: { Foo: 'Bar' } });
    });
    const expected = {
        Resources: {
            TestResourceA: { Type: 'Test::Resource' },
            TestResourceB: { Type: 'Test::Resource', Properties: { Foo: 'Baz' } }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.SUPERSET));
});
failingExample('expect <synthStack> to match (no replaces) <template> with parameters', () => {
    const parameterType = 'Test::Parameter';
    const synthStack = synthesizedStack(stack => {
        new TestParameter(stack, 'TestParameter', { type: parameterType });
    });
    const expected = {
        Parameters: {
            TestParameter: { Type: 'AWS::S3::Bucket' }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.NO_REPLACES));
});
failingExample('expect <synthStack> to be a superset of <template> with parameters', () => {
    const parameterType = 'Test::Parameter';
    const synthStack = synthesizedStack(stack => {
        // Added
        new TestParameter(stack, 'NewParameter', { type: 'AWS::S3::Bucket' });
        // Expected
        new TestParameter(stack, 'TestParameterA', { type: parameterType });
        // Expected, but has different properties - will break
        new TestParameter(stack, 'TestParameterB', { type: parameterType, default: { Foo: 'Bar' } });
    });
    const expected = {
        Parameters: {
            TestParameterA: { Type: 'Test::Parameter' },
            TestParameterB: { Type: 'Test::Parameter', Default: { Foo: 'Baz' } }
        }
    };
    index_1.expect(synthStack).to(index_1.matchTemplate(expected, index_1.MatchStyle.SUPERSET));
});
// countResources
passingExample('expect <synthStack> to count resources - as expected', () => {
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: 'Bar' });
        new TestResource(stack, 'R2', { type: 'Bar' });
        new TestResource(stack, 'R3', { type: 'Foo' });
    });
    index_1.expect(synthStack).to(index_1.countResources('Bar', 2));
    index_1.expect(synthStack).to(index_1.countResources('Foo', 1));
});
passingExample('expect <stack> to count resources - expected no resources', () => {
    const resourceType = 'Test::Resource';
    const stack = new cdk.Stack();
    index_1.expect(stack).to(index_1.countResources(resourceType, 0));
});
failingExample('expect <synthStack> to count resources - more than expected', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType });
        new TestResource(stack, 'R2', { type: resourceType });
    });
    index_1.expect(synthStack).to(index_1.countResources(resourceType, 1));
});
failingExample('expect <synthStack> to count resources - less than expected', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType });
        new TestResource(stack, 'R2', { type: resourceType });
    });
    index_1.expect(synthStack).to(index_1.countResources(resourceType, 0));
});
// countResourcesLike
passingExample('expect <synthStack> to count resources like props - as expected', () => {
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: 'Bar', properties: { parentId: 123, name: 'A' } });
        new TestResource(stack, 'R2', { type: 'Bar', properties: { parentId: 123, name: 'B' } });
        new TestResource(stack, 'R3', { type: 'Foo', properties: { parentId: 123 } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike('Bar', 2, { parentId: 123 }));
    index_1.expect(synthStack).to(index_1.countResourcesLike('Foo', 1, { parentId: 123 }));
});
passingExample('expect <stack> to count resources like props - expected no resources', () => {
    const resourceType = 'Test::Resource';
    const stack = new cdk.Stack();
    index_1.expect(stack).to(index_1.countResourcesLike(resourceType, 0, { parentId: 123 }));
});
passingExample('expect <stack> to count resources like props - expected no resources', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType, properties: { parentId: 123, name: 'A' } });
        new TestResource(stack, 'R2', { type: resourceType });
        new TestResource(stack, 'R3', { type: 'Foo', properties: { parentId: 456 } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike(resourceType, 0, { parentId: 456 }));
});
failingExample('expect <synthStack> to count resources like props - more than expected', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType, properties: { parentId: 123 } });
        new TestResource(stack, 'R2', { type: resourceType, properties: { parentId: 123 } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike(resourceType, 1, { parentId: 123 }));
});
passingExample('expect <synthStack> to count resources like props - nested props out of order', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType, properties: { id: 987, parentInfo: { id: 123, name: 'A' } } });
        new TestResource(stack, 'R2', { type: resourceType, properties: { id: 456, parentInfo: { name: 'A', id: 123 } } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike(resourceType, 2, { parentInfo: { id: 123, name: 'A' } }));
});
passingExample('expect <synthStack> to count resources like props - nested props incomplete', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType, properties: { id: 987, parentInfo: { id: 123, name: 'A' } } });
        new TestResource(stack, 'R2', { type: resourceType, properties: { id: 456, parentInfo: { name: 'A', id: 123 } } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike(resourceType, 2, { parentInfo: { id: 123 } }));
});
failingExample('expect <synthStack> to count resources like props - less than expected', () => {
    const resourceType = 'Test::Resource';
    const synthStack = synthesizedStack(stack => {
        new TestResource(stack, 'R1', { type: resourceType, properties: { parentId: 123 } });
        new TestResource(stack, 'R2', { type: resourceType, properties: { parentId: 123 } });
    });
    index_1.expect(synthStack).to(index_1.countResourcesLike(resourceType, 0, { parentId: 123 }));
});
function passingExample(title, cb) {
    describe('passing', () => {
        test(title, cb);
    });
}
function failingExample(title, cb) {
    describe('failing', () => {
        test(title, () => expect(cb).toThrowError());
    });
}
function synthesizedStack(fn) {
    const app = new cdk.App();
    const stack = new cdk.Stack(app, 'TestStack');
    fn(stack);
    const assembly = app.synth();
    return assembly.getStackArtifact(stack.artifactId);
}
class TestResource extends cdk.CfnResource {
    constructor(scope, id, props) {
        super(scope, id, props);
    }
}
class TestParameter extends cdk.CfnParameter {
    constructor(scope, id, props) {
        super(scope, id, props);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0aW9ucy50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXNzZXJ0aW9ucy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEscUNBQXFDO0FBR3JDLHdDQUFtSTtBQUVuSSxjQUFjLENBQUMsd0RBQXdELEVBQUUsR0FBRyxFQUFFO0lBQzVFLE1BQU0sWUFBWSxHQUFHLGdCQUFnQixDQUFDO0lBQ3RDLE1BQU0sVUFBVSxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzFDLElBQUksWUFBWSxDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztJQUNILGNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxDQUFDLGdCQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUN2RSxDQUFDLENBQUMsQ0FBQztBQUNILGNBQWMsQ0FBQyxpRUFBaUUsRUFBRSxHQUFHLEVBQUU7SUFDckYsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLENBQUM7SUFDdEMsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDOUIsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLGNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxDQUFDLGdCQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUNsRSxDQUFDLENBQUMsQ0FBQztBQUNILGNBQWMsQ0FBQyw4REFBOEQsRUFBRSxHQUFHLEVBQUU7SUFDbEYsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLENBQUM7SUFDdEMsTUFBTSxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFD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QUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbkgsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNySCxDQUFDLENBQUMsQ0FBQztJQUVILGNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsMEJBQWtCLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM3RixDQUFDLENBQUMsQ0FBQztBQUVILGNBQWMsQ0FBQyx3RUFBd0UsRUFBRSxHQUFHLEVBQUU7SUFDNUYsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLENBQUM7SUFDdEMsTUFBTSxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUMsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyRixJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZGLENBQUMsQ0FBQyxDQUFDO0lBRUgsY0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQywwQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuRixDQUFDLENBQUMsQ0FBQztBQUVILFNBQVMsY0FBYyxDQUFDLEtBQWEsRUFBRSxFQUFjO0lBQ25ELFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEIsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsS0FBYSxFQUFFLEVBQWM7SUFDbkQsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7UUFDdkIsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLGdCQUFnQixDQUFDLEVBQThCO0lBQ3RELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzFCLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDOUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRVYsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLE9BQU8sUUFBUSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBTUQsTUFBTSxZQUFhLFNBQVEsR0FBRyxDQUFDLFdBQVc7SUFDeEMsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUF3QjtRQUNwRSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMxQixDQUFDO0NBQ0Y7QUFNRCxNQUFNLGFBQWMsU0FBUSxHQUFHLENBQUMsWUFBWTtJQUMxQyxZQUFZLEtBQW9CLEVBQUUsRUFBVSxFQUFFLEtBQXlCO1FBQ3JFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzFCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdAYXdzLWNkay9jb3JlJztcbmltcG9ydCAqIGFzIGN4IGZyb20gJ0Bhd3MtY2RrL2N4LWFwaSc7XG5cbmltcG9ydCB7IGNvdW50UmVzb3VyY2VzLCBjb3VudFJlc291cmNlc0xpa2UsIGV4aXN0LCBleHBlY3QgYXMgY2RrRXhwZWN0LCBoYXZlVHlwZSwgTWF0Y2hTdHlsZSwgbWF0Y2hUZW1wbGF0ZSB9IGZyb20gJy4uL2xpYi9pbmRleCc7XG5cbnBhc3NpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IGF0IDxzb21lIHBhdGg+IHRvIGhhdmUgPHNvbWUgdHlwZT4nLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnVGVzdFJlc291cmNlJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gIH0pO1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykuYXQoJy9UZXN0UmVzb3VyY2UnKS50byhoYXZlVHlwZShyZXNvdXJjZVR5cGUpKTtcbn0pO1xucGFzc2luZ0V4YW1wbGUoJ2V4cGVjdCBub24tc3ludGhlc2l6ZWQgc3RhY2sgYXQgPHNvbWUgcGF0aD4gdG8gaGF2ZSA8c29tZSB0eXBlPicsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2UnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgY2RrRXhwZWN0KHN0YWNrKS5hdCgnL1Rlc3RSZXNvdXJjZScpLnRvKGhhdmVUeXBlKHJlc291cmNlVHlwZSkpO1xufSk7XG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiBhdCA8c29tZSBwYXRoPiAqbm90KiB0byBoYXZlIDxzb21lIHR5cGU+JywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1Rlc3RSZXNvdXJjZScsIHsgdHlwZTogcmVzb3VyY2VUeXBlIH0pO1xuICB9KTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLmF0KCcvVGVzdFJlc291cmNlJykubm90VG8oaGF2ZVR5cGUoJ0Zvbzo6QmFyJykpO1xufSk7XG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiBhdCA8c29tZSBwYXRoPiB0byBleGlzdCcsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2UnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgfSk7XG4gIGNka0V4cGVjdChzeW50aFN0YWNrKS5hdCgnL1Rlc3RSZXNvdXJjZScpLnRvKGV4aXN0KCkpO1xufSk7XG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBtYXRjaCAoZXhhY3RseSkgPHRlbXBsYXRlPicsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2UnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgfSk7XG4gIGNvbnN0IGV4cGVjdGVkID0ge1xuICAgIFJlc291cmNlczoge1xuICAgICAgVGVzdFJlc291cmNlOiB7IFR5cGU6IHJlc291cmNlVHlwZSB9XG4gICAgfVxuICB9O1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8obWF0Y2hUZW1wbGF0ZShleHBlY3RlZCwgTWF0Y2hTdHlsZS5FWEFDVCkpO1xufSk7XG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBtYXRjaCAobm8gcmVwbGFjZXMpIDx0ZW1wbGF0ZT4nLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnVGVzdFJlc291cmNlJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gIH0pO1xuICBjb25zdCBleHBlY3RlZCA9IHt9O1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8obWF0Y2hUZW1wbGF0ZShleHBlY3RlZCwgTWF0Y2hTdHlsZS5OT19SRVBMQUNFUykpO1xufSk7XG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBiZSBhIHN1cGVyc2V0IG9mIDx0ZW1wbGF0ZT4nLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICAvLyBBZGRlZFxuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdOZXdSZXNvdXJjZScsIHsgdHlwZTogJ0FXUzo6UzM6OkJ1Y2tldCcgfSk7XG4gICAgLy8gRXhwZWN0ZWRcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnVGVzdFJlc291cmNlQScsIHsgdHlwZTogcmVzb3VyY2VUeXBlIH0pO1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2VCJywgeyB0eXBlOiByZXNvdXJjZVR5cGUsIHByb3BlcnRpZXM6IHsgRm9vOiAnQmFyJyB9IH0pO1xuICB9KTtcbiAgY29uc3QgZXhwZWN0ZWQgPSB7XG4gICAgUmVzb3VyY2VzOiB7XG4gICAgICBUZXN0UmVzb3VyY2VBOiB7IFR5cGU6ICdUZXN0OjpSZXNvdXJjZScgfSxcbiAgICAgIFRlc3RSZXNvdXJjZUI6IHsgVHlwZTogJ1Rlc3Q6OlJlc291cmNlJywgUHJvcGVydGllczogeyBGb286ICdCYXInIH0gfVxuICAgIH1cbiAgfTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKG1hdGNoVGVtcGxhdGUoZXhwZWN0ZWQsIE1hdGNoU3R5bGUuU1VQRVJTRVQpKTtcbn0pO1xucGFzc2luZ0V4YW1wbGUoJ3N1Z2FyIGZvciBtYXRjaGluZyBzdGFjayB0byBhIHRlbXBsYXRlJywgKCkgPT4ge1xuICBjb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soKTtcbiAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1Rlc3RSZXNvdXJjZScsIHsgdHlwZTogJ1Rlc3Q6OlJlc291cmNlJyB9KTtcbiAgY2RrRXhwZWN0KHN0YWNrKS50b01hdGNoKHtcbiAgICBSZXNvdXJjZXM6IHtcbiAgICAgIFRlc3RSZXNvdXJjZToge1xuICAgICAgICBUeXBlOiAnVGVzdDo6UmVzb3VyY2UnXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xucGFzc2luZ0V4YW1wbGUoJ2V4cGVjdCA8c3ludGhTdGFjaz4gdG8gbWF0Y2ggKG5vIHJlcGxhY2VzKSA8dGVtcGxhdGU+IHdpdGggcGFyYW1ldGVycycsICgpID0+IHtcbiAgY29uc3QgcGFyYW1ldGVyVHlwZSA9ICdUZXN0OjpQYXJhbWV0ZXInO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RQYXJhbWV0ZXIoc3RhY2ssICdUZXN0UGFyYW1ldGVyJywgeyB0eXBlOiBwYXJhbWV0ZXJUeXBlIH0pO1xuICB9KTtcbiAgY29uc3QgZXhwZWN0ZWQgPSB7fTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKG1hdGNoVGVtcGxhdGUoZXhwZWN0ZWQsIE1hdGNoU3R5bGUuTk9fUkVQTEFDRVMpKTtcbn0pO1xucGFzc2luZ0V4YW1wbGUoJ2V4cGVjdCA8c3ludGhTdGFjaz4gdG8gYmUgYSBzdXBlcnNldCBvZiA8dGVtcGxhdGU+IHdpdGggcGFyYW1ldGVycycsICgpID0+IHtcbiAgY29uc3QgcGFyYW1ldGVyVHlwZSA9ICdUZXN0OjpQYXJhbWV0ZXInO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgLy8gQWRkZWRcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnTmV3UmVzb3VyY2UnLCB7IHR5cGU6ICdBV1M6OlMzOjpCdWNrZXQnIH0pO1xuICAgIC8vIEV4cGVjdGVkXG4gICAgbmV3IFRlc3RQYXJhbWV0ZXIoc3RhY2ssICdUZXN0UGFyYW1ldGVyQScsIHt0eXBlOiBwYXJhbWV0ZXJUeXBlfSk7XG4gICAgbmV3IFRlc3RQYXJhbWV0ZXIoc3RhY2ssICdUZXN0UGFyYW1ldGVyQicsIHt0eXBlOiBwYXJhbWV0ZXJUeXBlLCBkZWZhdWx0OiB7IEZvbzogJ0JhcicgfSB9KTtcbiAgfSk7XG4gIGNvbnN0IGV4cGVjdGVkID0ge1xuICAgIFBhcmFtZXRlcnM6IHtcbiAgICAgIFRlc3RQYXJhbWV0ZXJBOiB7IFR5cGU6ICdUZXN0OjpQYXJhbWV0ZXInIH0sXG4gICAgICBUZXN0UGFyYW1ldGVyQjogeyBUeXBlOiAnVGVzdDo6UGFyYW1ldGVyJywgRGVmYXVsdDogeyBGb286ICdCYXInIH0gfVxuICAgIH1cbiAgfTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKG1hdGNoVGVtcGxhdGUoZXhwZWN0ZWQsIE1hdGNoU3R5bGUuU1VQRVJTRVQpKTtcbn0pO1xuXG5mYWlsaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiBhdCA8c29tZSBwYXRoPiAqbm90KiB0byBoYXZlIDxzb21lIHR5cGU+JywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1Rlc3RSZXNvdXJjZScsIHsgdHlwZTogcmVzb3VyY2VUeXBlIH0pO1xuICB9KTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLmF0KCcvVGVzdFJlc291cmNlJykubm90VG8oaGF2ZVR5cGUocmVzb3VyY2VUeXBlKSk7XG59KTtcbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IGF0IDxzb21lIHBhdGg+IHRvIGhhdmUgPHNvbWUgdHlwZT4nLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnVGVzdFJlc291cmNlJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gIH0pO1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykuYXQoJy9UZXN0UmVzb3VyY2UnKS50byhoYXZlVHlwZSgnRm9vOjpCYXInKSk7XG59KTtcbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IGF0IDxzb21lIHBhdGg+IHRvIGV4aXN0JywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1Rlc3RSZXNvdXJjZScsIHsgdHlwZTogcmVzb3VyY2VUeXBlIH0pO1xuICB9KTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLmF0KCcvRm9vL0JhcicpLnRvKGV4aXN0KCkpO1xufSk7XG5mYWlsaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBtYXRjaCAoZXhhY3RseSkgPHRlbXBsYXRlPicsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2UnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgfSk7XG4gIGNvbnN0IGV4cGVjdGVkID0ge1xuICAgIFJlc291cmNlczoge1xuICAgICAgVGVzdFJlc291cmNlOiB7IFR5cGU6IHJlc291cmNlVHlwZSwgRGVwZW5kc09uOiBbJ1NvbWV0aGluZyddIH1cbiAgICB9XG4gIH07XG4gIGNka0V4cGVjdChzeW50aFN0YWNrKS50byhtYXRjaFRlbXBsYXRlKGV4cGVjdGVkLCBNYXRjaFN0eWxlLkVYQUNUKSk7XG59KTtcbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IHRvIG1hdGNoIChubyByZXBsYWNlcykgPHRlbXBsYXRlPicsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2UnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgfSk7XG4gIGNvbnN0IGV4cGVjdGVkID0ge1xuICAgIFJlc291cmNlczoge1xuICAgICAgVGVzdFJlc291cmNlOiB7IFR5cGU6ICdBV1M6OlMzOjpCdWNrZXQnIH1cbiAgICB9XG4gIH07XG4gIGNka0V4cGVjdChzeW50aFN0YWNrKS50byhtYXRjaFRlbXBsYXRlKGV4cGVjdGVkLCBNYXRjaFN0eWxlLk5PX1JFUExBQ0VTKSk7XG59KTtcbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IHRvIGJlIGEgc3VwZXJzZXQgb2YgPHRlbXBsYXRlPicsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIC8vIEFkZGVkXG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ05ld1Jlc291cmNlJywgeyB0eXBlOiAnQVdTOjpTMzo6QnVja2V0JyB9KTtcbiAgICAvLyBFeHBlY3RlZFxuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdUZXN0UmVzb3VyY2VBJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gICAgLy8gRXhwZWN0ZWQsIGJ1dCBoYXMgZGlmZmVyZW50IHByb3BlcnRpZXMgLSB3aWxsIGJyZWFrXG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1Rlc3RSZXNvdXJjZUInLCB7IHR5cGU6IHJlc291cmNlVHlwZSwgcHJvcGVydGllczogeyBGb286ICdCYXInIH0gfSk7XG4gIH0pO1xuICBjb25zdCBleHBlY3RlZCA9IHtcbiAgICBSZXNvdXJjZXM6IHtcbiAgICAgIFRlc3RSZXNvdXJjZUE6IHsgVHlwZTogJ1Rlc3Q6OlJlc291cmNlJyB9LFxuICAgICAgVGVzdFJlc291cmNlQjogeyBUeXBlOiAnVGVzdDo6UmVzb3VyY2UnLCBQcm9wZXJ0aWVzOiB7IEZvbzogJ0JheicgfSB9XG4gICAgfVxuICB9O1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8obWF0Y2hUZW1wbGF0ZShleHBlY3RlZCwgTWF0Y2hTdHlsZS5TVVBFUlNFVCkpO1xufSk7XG5mYWlsaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBtYXRjaCAobm8gcmVwbGFjZXMpIDx0ZW1wbGF0ZT4gd2l0aCBwYXJhbWV0ZXJzJywgKCkgPT4ge1xuICBjb25zdCBwYXJhbWV0ZXJUeXBlID0gJ1Rlc3Q6OlBhcmFtZXRlcic7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFBhcmFtZXRlcihzdGFjaywgJ1Rlc3RQYXJhbWV0ZXInLCB7IHR5cGU6IHBhcmFtZXRlclR5cGUgfSk7XG4gIH0pO1xuICBjb25zdCBleHBlY3RlZCA9IHtcbiAgICBQYXJhbWV0ZXJzOiB7XG4gICAgICBUZXN0UGFyYW1ldGVyOiB7IFR5cGU6ICdBV1M6OlMzOjpCdWNrZXQnIH1cbiAgICB9XG4gIH07XG4gIGNka0V4cGVjdChzeW50aFN0YWNrKS50byhtYXRjaFRlbXBsYXRlKGV4cGVjdGVkLCBNYXRjaFN0eWxlLk5PX1JFUExBQ0VTKSk7XG59KTtcbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IHRvIGJlIGEgc3VwZXJzZXQgb2YgPHRlbXBsYXRlPiB3aXRoIHBhcmFtZXRlcnMnLCAoKSA9PiB7XG4gIGNvbnN0IHBhcmFtZXRlclR5cGUgPSAnVGVzdDo6UGFyYW1ldGVyJztcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIC8vIEFkZGVkXG4gICAgbmV3IFRlc3RQYXJhbWV0ZXIoc3RhY2ssICdOZXdQYXJhbWV0ZXInLCB7IHR5cGU6ICdBV1M6OlMzOjpCdWNrZXQnIH0pO1xuICAgIC8vIEV4cGVjdGVkXG4gICAgbmV3IFRlc3RQYXJhbWV0ZXIoc3RhY2ssICdUZXN0UGFyYW1ldGVyQScsIHsgdHlwZTogcGFyYW1ldGVyVHlwZSB9KTtcbiAgICAvLyBFeHBlY3RlZCwgYnV0IGhhcyBkaWZmZXJlbnQgcHJvcGVydGllcyAtIHdpbGwgYnJlYWtcbiAgICBuZXcgVGVzdFBhcmFtZXRlcihzdGFjaywgJ1Rlc3RQYXJhbWV0ZXJCJywgeyB0eXBlOiBwYXJhbWV0ZXJUeXBlLCBkZWZhdWx0OiB7IEZvbzogJ0JhcicgfSB9KTtcbiAgfSk7XG4gIGNvbnN0IGV4cGVjdGVkID0ge1xuICAgIFBhcmFtZXRlcnM6IHtcbiAgICAgIFRlc3RQYXJhbWV0ZXJBOiB7IFR5cGU6ICdUZXN0OjpQYXJhbWV0ZXInIH0sXG4gICAgICBUZXN0UGFyYW1ldGVyQjogeyBUeXBlOiAnVGVzdDo6UGFyYW1ldGVyJywgRGVmYXVsdDogeyBGb286ICdCYXonIH0gfVxuICAgIH1cbiAgfTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKG1hdGNoVGVtcGxhdGUoZXhwZWN0ZWQsIE1hdGNoU3R5bGUuU1VQRVJTRVQpKTtcbn0pO1xuXG4vLyBjb3VudFJlc291cmNlc1xuXG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgLSBhcyBleHBlY3RlZCcsICgpID0+IHtcbiAgY29uc3Qgc3ludGhTdGFjayA9IHN5bnRoZXNpemVkU3RhY2soc3RhY2sgPT4ge1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdSMScsIHsgdHlwZTogJ0JhcicgfSk7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IyJywgeyB0eXBlOiAnQmFyJyB9KTtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjMnLCB7IHR5cGU6ICdGb28nIH0pO1xuICB9KTtcblxuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8oY291bnRSZXNvdXJjZXMoJ0JhcicsIDIpKTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKGNvdW50UmVzb3VyY2VzKCdGb28nLCAxKSk7XG59KTtcblxucGFzc2luZ0V4YW1wbGUoJ2V4cGVjdCA8c3RhY2s+IHRvIGNvdW50IHJlc291cmNlcyAtIGV4cGVjdGVkIG5vIHJlc291cmNlcycsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gIGNka0V4cGVjdChzdGFjaykudG8oY291bnRSZXNvdXJjZXMocmVzb3VyY2VUeXBlLCAwKSk7XG59KTtcblxuZmFpbGluZ0V4YW1wbGUoJ2V4cGVjdCA8c3ludGhTdGFjaz4gdG8gY291bnQgcmVzb3VyY2VzIC0gbW9yZSB0aGFuIGV4cGVjdGVkJywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IxJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IyJywgeyB0eXBlOiByZXNvdXJjZVR5cGUgfSk7XG4gIH0pO1xuXG4gIGNka0V4cGVjdChzeW50aFN0YWNrKS50byhjb3VudFJlc291cmNlcyhyZXNvdXJjZVR5cGUsIDEpKTtcbn0pO1xuXG5mYWlsaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgLSBsZXNzIHRoYW4gZXhwZWN0ZWQnLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjEnLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjInLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgfSk7XG5cbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKGNvdW50UmVzb3VyY2VzKHJlc291cmNlVHlwZSwgMCkpO1xufSk7XG5cbi8vIGNvdW50UmVzb3VyY2VzTGlrZVxuXG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgbGlrZSBwcm9wcyAtIGFzIGV4cGVjdGVkJywgKCkgPT4ge1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IxJywgeyB0eXBlOiAnQmFyJywgcHJvcGVydGllczogeyBwYXJlbnRJZDogMTIzLCBuYW1lOiAnQScgfSB9KTtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjInLCB7IHR5cGU6ICdCYXInLCBwcm9wZXJ0aWVzOiB7IHBhcmVudElkOiAxMjMsIG5hbWU6ICdCJyB9IH0pO1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdSMycsIHsgdHlwZTogJ0ZvbycsIHByb3BlcnRpZXM6IHsgcGFyZW50SWQ6IDEyMyB9IH0pO1xuICB9KTtcblxuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8oY291bnRSZXNvdXJjZXNMaWtlKCdCYXInLCAyLCB7IHBhcmVudElkOiAxMjMgfSkpO1xuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8oY291bnRSZXNvdXJjZXNMaWtlKCdGb28nLCAxLCB7IHBhcmVudElkOiAxMjMgfSkpO1xufSk7XG5cbnBhc3NpbmdFeGFtcGxlKCdleHBlY3QgPHN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgbGlrZSBwcm9wcyAtIGV4cGVjdGVkIG5vIHJlc291cmNlcycsICgpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VUeXBlID0gJ1Rlc3Q6OlJlc291cmNlJztcbiAgY29uc3Qgc3RhY2sgPSBuZXcgY2RrLlN0YWNrKCk7XG4gIGNka0V4cGVjdChzdGFjaykudG8oY291bnRSZXNvdXJjZXNMaWtlKHJlc291cmNlVHlwZSwgMCwgeyBwYXJlbnRJZDogMTIzIH0pKTtcbn0pO1xuXG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzdGFjaz4gdG8gY291bnQgcmVzb3VyY2VzIGxpa2UgcHJvcHMgLSBleHBlY3RlZCBubyByZXNvdXJjZXMnLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjEnLCB7IHR5cGU6IHJlc291cmNlVHlwZSwgcHJvcGVydGllczogeyBwYXJlbnRJZDogMTIzLCBuYW1lOiAnQScgfSB9KTtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjInLCB7IHR5cGU6IHJlc291cmNlVHlwZSB9KTtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjMnLCB7IHR5cGU6ICdGb28nLCBwcm9wZXJ0aWVzOiB7IHBhcmVudElkOiA0NTZ9IH0pO1xuICB9KTtcbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKGNvdW50UmVzb3VyY2VzTGlrZShyZXNvdXJjZVR5cGUsIDAsIHsgcGFyZW50SWQ6IDQ1NiB9KSk7XG59KTtcblxuZmFpbGluZ0V4YW1wbGUoJ2V4cGVjdCA8c3ludGhTdGFjaz4gdG8gY291bnQgcmVzb3VyY2VzIGxpa2UgcHJvcHMgLSBtb3JlIHRoYW4gZXhwZWN0ZWQnLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjEnLCB7IHR5cGU6IHJlc291cmNlVHlwZSwgcHJvcGVydGllczogeyBwYXJlbnRJZDogMTIzIH0gfSk7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IyJywgeyB0eXBlOiByZXNvdXJjZVR5cGUsIHByb3BlcnRpZXM6IHsgcGFyZW50SWQ6IDEyMyB9IH0pO1xuICB9KTtcblxuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8oY291bnRSZXNvdXJjZXNMaWtlKHJlc291cmNlVHlwZSwgMSwgeyBwYXJlbnRJZDogMTIzIH0pKTtcbn0pO1xuXG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgbGlrZSBwcm9wcyAtIG5lc3RlZCBwcm9wcyBvdXQgb2Ygb3JkZXInLCAoKSA9PiB7XG4gIGNvbnN0IHJlc291cmNlVHlwZSA9ICdUZXN0OjpSZXNvdXJjZSc7XG4gIGNvbnN0IHN5bnRoU3RhY2sgPSBzeW50aGVzaXplZFN0YWNrKHN0YWNrID0+IHtcbiAgICBuZXcgVGVzdFJlc291cmNlKHN0YWNrLCAnUjEnLCB7IHR5cGU6IHJlc291cmNlVHlwZSwgcHJvcGVydGllczogeyBpZDogOTg3LCBwYXJlbnRJbmZvOiB7IGlkOiAxMjMsIG5hbWU6ICdBJyB9IH0gfSk7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IyJywgeyB0eXBlOiByZXNvdXJjZVR5cGUsIHByb3BlcnRpZXM6IHsgaWQ6IDQ1NiwgcGFyZW50SW5mbzogeyBuYW1lOiAnQScsIGlkOiAxMjMgfSB9IH0pO1xuICB9KTtcblxuICBjZGtFeHBlY3Qoc3ludGhTdGFjaykudG8oY291bnRSZXNvdXJjZXNMaWtlKHJlc291cmNlVHlwZSwgMiwgeyBwYXJlbnRJbmZvOiB7IGlkOiAxMjMsIG5hbWU6ICdBJyB9IH0pKTtcbn0pO1xuXG5wYXNzaW5nRXhhbXBsZSgnZXhwZWN0IDxzeW50aFN0YWNrPiB0byBjb3VudCByZXNvdXJjZXMgbGlrZSBwcm9wcyAtIG5lc3RlZCBwcm9wcyBpbmNvbXBsZXRlJywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IxJywgeyB0eXBlOiByZXNvdXJjZVR5cGUsIHByb3BlcnRpZXM6IHsgaWQ6IDk4NywgcGFyZW50SW5mbzogeyBpZDogMTIzLCBuYW1lOiAnQScgfSB9IH0pO1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdSMicsIHsgdHlwZTogcmVzb3VyY2VUeXBlLCBwcm9wZXJ0aWVzOiB7IGlkOiA0NTYsIHBhcmVudEluZm86IHsgbmFtZTogJ0EnLCBpZDogMTIzIH0gfSB9KTtcbiAgfSk7XG5cbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKGNvdW50UmVzb3VyY2VzTGlrZShyZXNvdXJjZVR5cGUsIDIsIHsgcGFyZW50SW5mbzogeyBpZDogMTIzIH0gfSkpO1xufSk7XG5cbmZhaWxpbmdFeGFtcGxlKCdleHBlY3QgPHN5bnRoU3RhY2s+IHRvIGNvdW50IHJlc291cmNlcyBsaWtlIHByb3BzIC0gbGVzcyB0aGFuIGV4cGVjdGVkJywgKCkgPT4ge1xuICBjb25zdCByZXNvdXJjZVR5cGUgPSAnVGVzdDo6UmVzb3VyY2UnO1xuICBjb25zdCBzeW50aFN0YWNrID0gc3ludGhlc2l6ZWRTdGFjayhzdGFjayA9PiB7XG4gICAgbmV3IFRlc3RSZXNvdXJjZShzdGFjaywgJ1IxJywgeyB0eXBlOiByZXNvdXJjZVR5cGUsIHByb3BlcnRpZXM6IHsgcGFyZW50SWQ6IDEyMyB9IH0pO1xuICAgIG5ldyBUZXN0UmVzb3VyY2Uoc3RhY2ssICdSMicsIHsgdHlwZTogcmVzb3VyY2VUeXBlLCBwcm9wZXJ0aWVzOiB7IHBhcmVudElkOiAxMjMgfSB9KTtcbiAgfSk7XG5cbiAgY2RrRXhwZWN0KHN5bnRoU3RhY2spLnRvKGNvdW50UmVzb3VyY2VzTGlrZShyZXNvdXJjZVR5cGUsIDAsIHsgcGFyZW50SWQ6IDEyMyB9KSk7XG59KTtcblxuZnVuY3Rpb24gcGFzc2luZ0V4YW1wbGUodGl0bGU6IHN0cmluZywgY2I6ICgpID0+IHZvaWQpIHtcbiAgZGVzY3JpYmUoJ3Bhc3NpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCh0aXRsZSwgY2IpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZmFpbGluZ0V4YW1wbGUodGl0bGU6IHN0cmluZywgY2I6ICgpID0+IHZvaWQpIHtcbiAgZGVzY3JpYmUoJ2ZhaWxpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCh0aXRsZSwgKCkgPT4gZXhwZWN0KGNiKS50b1Rocm93RXJyb3IoKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzeW50aGVzaXplZFN0YWNrKGZuOiAoc3RhY2s6IGNkay5TdGFjaykgPT4gdm9pZCk6IGN4LkNsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCB7XG4gIGNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG4gIGNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjayhhcHAsICdUZXN0U3RhY2snKTtcbiAgZm4oc3RhY2spO1xuXG4gIGNvbnN0IGFzc2VtYmx5ID0gYXBwLnN5bnRoKCk7XG4gIHJldHVybiBhc3NlbWJseS5nZXRTdGFja0FydGlmYWN0KHN0YWNrLmFydGlmYWN0SWQpO1xufVxuXG5pbnRlcmZhY2UgVGVzdFJlc291cmNlUHJvcHMgZXh0ZW5kcyBjZGsuQ2ZuUmVzb3VyY2VQcm9wcyB7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuY2xhc3MgVGVzdFJlc291cmNlIGV4dGVuZHMgY2RrLkNmblJlc291cmNlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IGNkay5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBUZXN0UmVzb3VyY2VQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuICB9XG59XG5cbmludGVyZmFjZSBUZXN0UGFyYW1ldGVyUHJvcHMgZXh0ZW5kcyBjZGsuQ2ZuUGFyYW1ldGVyUHJvcHMge1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbmNsYXNzIFRlc3RQYXJhbWV0ZXIgZXh0ZW5kcyBjZGsuQ2ZuUGFyYW1ldGVyIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IGNkay5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBUZXN0UGFyYW1ldGVyUHJvcHMpIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcbiAgfVxufVxuIl19